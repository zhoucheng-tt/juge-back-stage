<!--彩屏诱导-->
<template>
  <div class="body">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 192">
      <defs></defs>
      <title></title>
      <g id="图层_1" data-name="图层 1">
        <rect id="矩形" width="320" height="192"/>
      </g>
      <g id="图层_10" data-name="图层 10">
        <g class="cls-1">
          <polyline class="cls-2" points="210.75 125.21 210.75 126.21 209.75 126.21"/>
          <line class="cls-3" x1="207.71" y1="126.21" x2="118.93" y2="126.21"/>
          <polyline class="cls-2" points="117.91 126.21 116.91 126.21 116.91 125.21"/>
          <line class="cls-4" x1="116.91" y1="123.18" x2="116.91" y2="75.56"/>
          <polyline class="cls-2" points="116.91 74.55 116.91 73.55 117.91 73.55"/>
          <line class="cls-3" x1="119.95" y1="73.55" x2="208.73" y2="73.55"/>
          <polyline class="cls-2" points="209.75 73.55 210.75 73.55 210.75 74.55"/>
          <line class="cls-4" x1="210.75" y1="76.57" x2="210.75" y2="124.2"/>
        </g>
        <line class="cls-5" x1="116.75" y1="115.6" x2="127.29" y2="127.28"/>
        <line class="cls-5" x1="117.22" y1="105.25" x2="136.76" y2="126.22"/>
        <line class="cls-5" x1="147.26" y1="126.14" x2="116.99" y2="93.62"/>
        <line class="cls-5" x1="117.53" y1="80.49" x2="160.13" y2="125.52"/>
        <line class="cls-5" x1="124.4" y1="74.14" x2="173.25" y2="125.53"/>
        <line class="cls-5" x1="138.1" y1="74.14" x2="186.96" y2="125.53"/>
        <line class="cls-5" x1="152.61" y1="74.14" x2="201.46" y2="125.53"/>
        <line class="cls-5" x1="166.58" y1="74.14" x2="210.94" y2="120.82"/>
        <line class="cls-5" x1="180.73" y1="73.75" x2="209.99" y2="104.7"/>
        <line class="cls-5" x1="196.07" y1="74.01" x2="210.25" y2="88.96"/>
      </g>
      <g id="图层_9" data-name="图层 9">
        <path class="cls-6" d="M278,131.45H228.5V111.89h3.16v3.17l6.27-6-6.27-6v3.17H228.5V82.51h8l2.3-5.19-2.33-4.81h-8V42.89l-5.07-3.11-4.93,3.12V59H166.82V56H170l-6-6.27L158,56h3.18v3H109.46V28.41L104.1,24.8l-4.64,3.65V101.5H89v12H99.46v27.95H166v3.1h-3.18l6,6.26,6-6.26h-3.17v-3.1H236v8.61l4.75,2.46,5.25-2.43v-8.64h32l3.7-5Zm-59.5,0h-109V69h109Z"/></g><g id="图层_8" data-name="图层 8"><g class="cls-7">
      <text class="cls-8" transform="translate(14.04 35.46)">溧水经济开发区</text>
      <text class="cls-8" transform="translate(14.04 47.06)">管委会停车场</text>
    </g>
    </g>
      <g id="图层_7" data-name="图层 7">
        <rect id="矩形-4" class="cls-9" x="12.53" y="158.7" width="16.17" height="16.17" rx="1.35"/>
        <g id="编组">
          <path id="Fill-2" class="cls-10" d="M19.41,165.86H17.25v-2.47h2.16a1.24,1.24,0,0,1,0,2.47m2.83-1.23a2.59,2.59,0,0,0-2.63-2.55H15.92v9.37h1.33v-4.28h2.36a2.59,2.59,0,0,0,2.63-2.55h0"/>
          <path id="Fill-4" class="cls-10" d="M24.64,170.2a.38.38,0,1,1,.38-.38.38.38,0,0,1-.38.38h0m-3.13,0a.39.39,0,0,1-.44-.31.39.39,0,0,1,.32-.44h.12a.39.39,0,0,1,.44.31.39.39,0,0,1-.32.44.24.24,0,0,1-.12,0m-.06-1.37c0-.07.16-.63.22-.83a.46.46,0,0,1,.36-.25H24.1a.45.45,0,0,1,.37.25c.06.2.19.76.21.83a.07.07,0,0,1,0,.08H21.51a.06.06,0,0,1-.06-.06v0m4,.33a.69.69,0,0,0-.16-.18l-.47-1.27a.66.66,0,0,0-.52-.36H21.81a.66.66,0,0,0-.51.36L20.82,169a.69.69,0,0,0-.16.18,2.14,2.14,0,0,0-.09.71c0,.56.11.74.25.81l.1.06v.51c0,.16,0,.21.2.21h.35c.16,0,.27,0,.27-.16v-.5H24.4v.5c0,.16.1.16.26.16H25c.15,0,.19,0,.19-.21v-.51l.11-.06c.13-.07.24-.26.24-.81s0-.63-.09-.71"/>
        </g>
        <path class="cls-11" d="M35.1,160.53h2.56V162H37v-.83H35.78v1c0,.12.07.19.22.19h1.47v.57H35.7c-.36,0-.54-.16-.54-.49v-1.22H34l.55.06a3.39,3.39,0,0,1-2.33,1.92l-.3-.56a2.86,2.86,0,0,0,2-1.42H32.51V162h-.64v-1.42h2.56a5.77,5.77,0,0,0-.27-.56l.7-.11C34.94,160.07,35,160.29,35.1,160.53Zm2,2.77v.61h-2v1.4h2.57v.61h-5.8v-.61h2.56v-1.4h-2v-.61Z"/>
        <path class="cls-11" d="M41.8,159.93a9.92,9.92,0,0,0,2.92,1.81l-.34.58a9.25,9.25,0,0,1-1-.49v.48H41.94V163h2.4v.62h-2.4v1.66a.67.67,0,0,1-.58.75h-1l-.14-.61H41a.32.32,0,0,0,.36-.28v-1.56H38.81V163h2.51v-.72H39.75v-.49c-.32.19-.66.36-1,.52l-.33-.6a9.78,9.78,0,0,0,3-1.81Zm-1.2,4.31a4.11,4.11,0,0,1-1.46,1.58l-.49-.41A3.46,3.46,0,0,0,40,164Zm2.55-2.54a8.08,8.08,0,0,1-1.58-1.21A8.42,8.42,0,0,1,40,161.7Zm1.4,3.74-.54.38a12.78,12.78,0,0,0-1.42-1.61l.49-.31A14.25,14.25,0,0,1,44.55,165.44Z"/>
        <path class="cls-11" d="M33.51,168.82l.36-.86.64.14-.31.72h3.36v.62H33.9a10.3,10.3,0,0,1-.88,1.37h1.5v-.91h.65v.91h2v.58h-2v.86h2.49v.62H35.17v1.39h-.65v-1.39H31.87v-.62h2.65v-.86H32.35l-.15-.58a6.42,6.42,0,0,0,1-1.37H32v-.62Z"/>
        <path class="cls-11" d="M40.54,168.23a7.68,7.68,0,0,1-.66,1.46v4.54h-.63v-3.6q-.3.38-.63.72l-.21-.68A7.5,7.5,0,0,0,39.94,168Zm2,5.09A20,20,0,0,0,43.4,170l.62.16a22.91,22.91,0,0,1-.82,3.16h1.44v.62H40.29v-.62ZM42.15,169c-.1-.32-.2-.62-.31-.9l.67-.11c.09.3.19.64.28,1H44.5v.62H40.41V169ZM42,173l-.59.16a23.94,23.94,0,0,0-.68-2.9l.59-.19A26.49,26.49,0,0,1,42,173Z"/>
      </g>
      <g id="图层_6" data-name="图层 6">
        <g id="公共停车场">
          <text class="cls-12" transform="translate(142.04 25.78)">公共停车场</text>
        </g>
        <rect id="矩形-3" class="cls-13" x="143.23" y="31.76" width="42" height="17"/>
        <g id="_218" data-name=" 218" >
          <text class="cls-100"  v-if="P1LeftPortShow==0"
                transform="translate(156.23 45.5)" x="-6">{{P1LeftPort}}</text>
          <text class="cls-100" v-if="P1LeftPortShow==1"
                transform="translate(156.23 45.5)" >{{P1LeftPort}}</text>
          <text class="cls-14" v-if="P1LeftPortShow==2"
                transform="translate(156.23 45.5)">{{P1LeftPort}}</text>
          <text class="cls-14" v-if="P1LeftPortShow==3"
                transform="translate(156.23 45.5)" x="4.5">{{P1LeftPort}}</text>
        </g>
        <g id="编组-2">
          <path id="Fill-2-2" class="cls-10" d="M130.12,38.06h-3.21V34.39h3.21a1.84,1.84,0,0,1,0,3.67m4.19-1.83a3.84,3.84,0,0,0-3.89-3.79h-5.49V46.37h2V40h3.51a3.84,3.84,0,0,0,3.89-3.79h0"/>
          <path id="Fill-4-2" class="cls-10" d="M137.88,44.5a.56.56,0,1,1,0-1.12h0a.56.56,0,1,1,0,1.12h0m-4.65,0a.56.56,0,1,1,0-1.12h0a.56.56,0,1,1,0,1.12h0m-.08-2c0-.11.23-.94.32-1.23a.64.64,0,0,1,.54-.38h3.07a.64.64,0,0,1,.54.38c.09.29.29,1.12.32,1.23a.08.08,0,0,1-.08.11h-4.63a.08.08,0,0,1-.08-.11m6,.48a1,1,0,0,0-.23-.26l-.71-1.88a1,1,0,0,0-.77-.54h-3.71a1,1,0,0,0-.77.54l-.71,1.88A1.48,1.48,0,0,0,132,43c-.06.13-.13.24-.13,1.07s.17,1.1.36,1.2l.16.09v.75c0,.25.06.32.29.32h.53c.23,0,.39,0,.39-.25v-.73h4v.73c0,.25.16.25.39.25h.53c.23,0,.29-.07.29-.32V45.3l.16-.09c.19-.1.36-.39.36-1.2s-.07-.94-.14-1.07"/></g></g><g id="图层_5" data-name="图层 5">
      <g id="icon_arrow" data-name="icon arrow">
        <path id="Fill-1" class="cls-10" d="M79.77,108.65l-4-5.49v2.62H66.19a5.67,5.67,0,0,0-5.67,5.67v11.69h5.67V114a2.6,2.6,0,0,1,2.58-2.58h7v2.69Z"/>
      </g>
      <text class="cls-15" transform="translate(56.56 133.22)">入口</text>
    </g>
      <g id="图层_4" data-name="图层 4">
        <g id="员工停车场">
          <text class="cls-15" transform="translate(111.95 168.31)">员工停车场</text>
        </g>
        <rect id="矩形备份" class="cls-13" x="171.04" y="154.89" width="42.77" height="17"/>
        <text class="cls-100" v-if="P23LeftPortShow==0"
              transform="translate(182 169)" x="-3" >{{staffLeftPort}}</text>
        <text class="cls-100" v-if="P23LeftPortShow==1"
              transform="translate(182 169)" x="1.8">{{staffLeftPort}}</text>
        <text class="cls-14" v-if="P23LeftPortShow==2"
              transform="translate(182 169)" x="1.8">{{staffLeftPort}}</text>
        <text class="cls-14" v-if="P23LeftPortShow==3"
              transform="translate(182 169)" x="6">{{staffLeftPort}}</text>
        <g id="编组-4">
          <path id="Fill-2-4" class="cls-10" d="M157.51,161.5h-3.2v-3.67h3.2a1.84,1.84,0,0,1,0,3.67m4.2-1.83a3.84,3.84,0,0,0-3.89-3.79h-5.49v13.91h2v-6.36h3.51a3.84,3.84,0,0,0,3.89-3.79h0"/>
          <path id="Fill-4-4" class="cls-10" d="M165.28,167.94a.56.56,0,1,1,0-1.12h0a.56.56,0,0,1,0,1.12m-4.65,0a.56.56,0,1,1,.56-.56h0a.56.56,0,0,1-.56.56m-.08-2c0-.11.23-.94.31-1.23a.67.67,0,0,1,.54-.38h3.08a.67.67,0,0,1,.54.38c.09.29.29,1.12.32,1.23a.08.08,0,0,1-.08.11h-4.63a.08.08,0,0,1-.08-.11m6,.48a1,1,0,0,0-.23-.26l-.71-1.88a1,1,0,0,0-.77-.54h-3.72a1,1,0,0,0-.76.54l-.71,1.88a1.48,1.48,0,0,0-.24.26c-.06.13-.13.24-.13,1.07s.17,1.1.36,1.2l.16.09v.75c0,.25.06.32.29.32h.53c.23,0,.39,0,.39-.25v-.73h4v.73c0,.25.16.25.39.25h.53c.23,0,.29-.07.29-.32v-.75l.15-.09c.2-.1.36-.39.37-1.2s-.07-.94-.14-1.07"/>
        </g>
      </g>
      <g id="图层_3" data-name="图层 3">
        <rect id="矩形备份-2" class="cls-13" x="260.85" y="105.85" width="42" height="17"/>
        <g id="_218备份" data-name=" 218备份">
          <text class="cls-100" v-if="P4LeftPortShow==0"
                transform="translate(276.66 119.35)" x="-3" y="0.5">{{P4LeftPort}}</text>
          <text class="cls-14" v-if="P4LeftPortShow==1"
                transform="translate(276.66 119.35)" x="-2.8" y="0.7">{{P4LeftPort}}</text>
          <text class="cls-14" v-if="P4LeftPortShow==2"
                transform="translate(276.66 119.35)"  x="0.5" y="0.7">{{P4LeftPort}}</text>
        </g><g id="新能源停车场">
        <text class="cls-15" transform="translate(260.79 100.35)">新能源停车场</text>
      </g>
        <g id="编组-3">
          <path id="Fill-2-3" class="cls-10" d="M248.07,113.83h-3.21v-3.67h3.21a1.94,1.94,0,0,1,1.79,1.82,2,2,0,0,1-1.79,1.85m4.19-1.83a3.84,3.84,0,0,0-3.89-3.79h-5.49v13.91h2v-6.36h3.51a3.84,3.84,0,0,0,3.89-3.79h0"/>
          <path id="Fill-4-3" class="cls-10" d="M255.83,120.27a.56.56,0,1,1,0-1.12.56.56,0,0,1,.56.56h0a.57.57,0,0,1-.56.56m-4.65,0a.56.56,0,1,1,0-1.12.56.56,0,0,1,.56.56.57.57,0,0,1-.56.56m-.08-2c0-.11.23-.94.31-1.23a.66.66,0,0,1,.55-.38h3a.61.61,0,0,1,.54.38c.09.29.29,1.12.32,1.23a.08.08,0,0,1-.08.11h-4.63a.08.08,0,0,1-.08-.11m6,.48a1,1,0,0,0-.23-.26l-.71-1.88a1,1,0,0,0-.77-.54h-3.71a1,1,0,0,0-.77.54l-.71,1.88a1.48,1.48,0,0,0-.24.26c-.06.13-.13.24-.13,1.07s.17,1.1.36,1.2l.16.09v.75c0,.24.06.32.29.32h.53c.23,0,.39,0,.39-.25v-.73h3.95v.73c0,.25.16.25.39.25h.53c.23,0,.29-.08.29-.32v-.75l.15-.09c.2-.1.37-.39.37-1.2s-.07-.94-.14-1.07"/>
        </g>
      </g>
      <g id="图层_2" data-name="图层 2">
        <polygon id="矩形-2" class="cls-17" points="293.36 41.98 300.43 58.18 293.34 52.62 287.37 58.18 293.36 41.98"/>
        <g id="西">
          <text class="cls-18" transform="translate(288.39 33.61)">西</text>
        </g>
      </g>
    </svg>
  </div>
</template>

<script>
    export default {
        name: "induce",
        components: {},
        data() {
            return {
                timer:null,

                P1LeftPort: 0,//158
                P2LeftPort: 0,//110
                P4LeftPort:0,//28
                //公共停车场158 100-158为0 80-99为1(绿)  10-79为2  0-9为3(红)
                P1LeftPortShow:3,
                //员工停车场110 100-110为0 56-99为1(绿) 10-55为2  0-9为3(红)
                P2LeftPortShow:3,
                //新能源停车场28 15-28为0(绿) 10-14为1 0-9为2(红)
                P4LeftPortShow:2,
                //员工停车场=员工+临时 = 157  100-157为0(绿) 79-99为1(绿) 10-78为2(红) 0-9为3(红)
                P23LeftPortShow:0,
                P3LeftPort: 0,//47
                P5LeftPort: 0,//14
                //专用停车场14 10-14为0 8-9为1 (绿) 0-7为2(红)
                P5LeftPortShow:0,
                socailParkName:"公共停车场",
                socailPark:500,
                socailParkLeft:218,
                staffParkName:"员工停车场",
                staffPark:100,
                staffParkLeft:18,
            };
        },
        computed: {
            //顶部员工停车场剩余车位数
            staffLeftPort: function() {
                return (
                    this.P2LeftPort + this.P3LeftPort
                );
            },
        },
        created() {
            // 实现轮询
            this.timer = setInterval(() => {
                setTimeout(this.getNewMessage(), 0);
            }, 5000);
        },
        mounted() {
            this.queryParkSpace();
        },
        destroyed() {
            if (this.timer) {
                clearTimeout(this.timer);
                this.timer = null;
            }
        },
        methods: {
            //  定时任务
            getNewMessage() {
                //查询正在进行中的订单
                this.queryParkSpace();
            },

            queryParkSpace() {
                // 公共停车场剩余车位数
                const param1 = "BM01";
                this.$homePage.queryEmptySpace(param1).then(res => {
                    this.P1LeftPort = res.resultEntity;
                    //公共停车场中间顶部数据
                    this.publicLeftPort = res.resultEntity;
                    if (this.P1LeftPort>=100&&this.P1LeftPort<=158)        {
                        this.P1LeftPortShow=0
                    }
                    else if(this.P1LeftPort>=80&&this.P1LeftPort<=99){
                        this.P1LeftPortShow=1
                    }
                    else if(this.P1LeftPort>=10&&this.P1LeftPort<=79){
                        this.P1LeftPortShow=2
                    }
                    else if(this.P1LeftPort>=0&&this.P1LeftPort<=9){
                        this.P1LeftPortShow=3
                    }
                });
                //  员工停车场剩余车位数
                const param2 = "BMK01";
                this.$homePage.queryEmptySpace(param2).then(res => {
                    this.P2LeftPort = res.resultEntity;
                    if (this.P2LeftPort>=100&&this.P2LeftPort<=110)        {
                        this.P2LeftPortShow=0
                    }
                    else if(this.P2LeftPort>=56&&this.P2LeftPort<=99){
                        this.P2LeftPortShow=1
                    }
                    else if(this.P2LeftPort>=10&&this.P2LeftPort<=55){
                        this.P2LeftPortShow=2
                    }
                    else if(this.P2LeftPort>=0&&this.P2LeftPort<=9){
                        this.P2LeftPortShow=3
                    }
                });
                //新能源停车场剩余车位数
                const param4 = "JQ01";
                this.$homePage.queryEmptySpace(param4).then(res => {
                    this.P4LeftPort = res.resultEntity;
                    if (this.P4LeftPort>=15&&this.P4LeftPort<=28)        {
                        this.P4LeftPortShow=0
                    }
                    else if(this.P4LeftPort>=10&&this.P4LeftPort<=14){
                        this.P4LeftPortShow=1
                    }
                    else if(this.P4LeftPort>=0&&this.P4LeftPort<=9){
                        this.P4LeftPortShow=2
                    }
                });
                //临时停车场剩余车位数
                const param3 = "HZH01";
                this.$homePage.queryEmptySpace(param3).then(res => {
                    this.P3LeftPort = res.resultEntity;
                });
                //专用停车场剩余车位数
                const param5 = "SJDA01";
                this.$homePage.queryEmptySpace(param5).then(res => {
                    this.P5LeftPort = res.resultEntity;
                    if (this.P5LeftPort>=10&&this.P5LeftPort<=14)        {
                        this.P5LeftPortShow=0
                    }
                    else if(this.P5LeftPort>=8&&this.P5LeftPort<=9){
                        this.P5LeftPortShow=1
                    }
                    else if(this.P5LeftPort>=0&&this.P5LeftPort<=7){
                        this.P5LeftPortShow=2
                    }
                });
                //员工加临时
                if (this.staffLeftPort>=100&&this.staffLeftPort<=157)        {
                    this.P23LeftPortShow=0
                }
                else if(this.staffLeftPort>=79&&this.staffLeftPort<=99){
                    this.P23LeftPortShow=1
                }
                else if(this.staffLeftPort>=10&&this.staffLeftPort<=78){
                    this.P23LeftPortShow=2
                }
                else if(this.staffLeftPort>=0&&this.staffLeftPort<=9){
                    this.P23LeftPortShow=3
                }
            },
        },
    }
</script>
<style  scoped>
  .body{
    width: 320px;
    height: 192px;
  }
  .cls-1,.cls-5{
    opacity:0.5
  }
  .cls-13,.cls-2,.cls-3,.cls-4,.cls-5 {
    fill:none;stroke-width:0.5px;
  }
  .cls-2,.cls-3,.cls-4,.cls-5{
    stroke:#0aa2ff;stroke-miterlimit:10;
  }
  .cls-3{
    stroke-dasharray:2.04 2.04;
  }
  .cls-4{
    stroke-dasharray:2.03 2.03;
  }
  .cls-5{
    stroke-dasharray:2 2;
  }
  .cls-12,.cls-14,.cls-15,.cls-18,.cls-5,.cls-7,.cls-8 .cls-100{
    isolation:isolate;
  }
  .cls-6{
    fill:#00fff3;
  }
  .cls-8{
    font-size:10px;
    fill:#00fffd;
    font-family:PingFangSC-Medium-GBpc-EUC-H, PingFang SC;
    letter-spacing:0.05em;
  }
  .cls-9{
    fill:#00a8ff;stroke:#fff;stroke-width:0.75px;
  }
  .cls-10,.cls-11,.cls-12,.cls-15,.cls-18{
    fill:#fff;
  }
  .cls-10,.cls-17{
    fill-rule:evenodd;
  }
  .cls-12{
    font-size:8px;letter-spacing:0.01em;
  }
  .cls-12,.cls-15{
    font-family:PingFangHK-Medium-B5pc-H, PingFang HK;
  }
  .cls-13{
    stroke:#00ff97;
  }
  .cls-14{
    font-size:15px;
    font-family:Helvetica-Bold, Helvetica;
    font-weight:700;
    letter-spacing:0.01em;
  }
  .cls-100{
    font-size:15px;
    font-family:Helvetica-Bold, Helvetica;
    font-weight:700;
    letter-spacing:0.01em;
    fill:#04F60F;
  }
  .cls-14,.cls-16{
    fill:#f40606;
  }
  .cls-15{
    font-size:7px;
    letter-spacing:0.01em;
  }
  .cls-17{
    fill:#f9e100;
  }
  .cls-18{
    font-size:11px;
    font-family:PingFangSC-Regular-GBpc-EUC-H, PingFang SC;
    letter-spacing:0.01em;
  }
</style>
