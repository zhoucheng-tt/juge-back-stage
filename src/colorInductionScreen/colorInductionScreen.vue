<!--彩屏诱导-->
<template>
  <div class="body">
    <svg id="图层_1" data-name="图层 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 192">
      <defs></defs>
      <title></title>
      <g id="图层_1-2" data-name="图层 1">
        <rect id="矩形" width="320" height="192"/>
      </g>
      <g id="图层_9" data-name="图层 9">
        <path class="cls-1" d="M226.06,78.51V52.89L221,49.78l-4.93,3.12V65H164.41V62h3.18l-6-6.27-6,6.27h3.18v3H107.05V39.41l-5.36-3.61-4.64,3.65V98.5H86.59v12H97.05v27.95h66.54v3.1h-3.18l6,6.26,6-6.26h-3.17v-3.1h64.35v8.61l4.75,2.46,5.25-2.43v-8.64h32l3.7-5-3.7-5h-49.5V103.89h3.16v3.17l6.27-6-6.27-6v3.17h-3.16V88.51m-10,39.94h-109V75h109Z" transform="translate(0)"/>
      </g>
      <text class="cls-2" transform="translate(11.63 36)">
      溧水经济
      <tspan x="0" y="20">
        开发区
      </tspan>
      </text>
      <text class="cls-2" transform="translate(11.81 75.84)">
        管委会
      </text>
      <g id="图层_7" data-name="图层 7">
        <rect id="矩形-4" class="cls-3" x="10.92" y="152.85" width="24.41" height="24.41" rx="2.04"/>
        <g id="编组">
          <path id="Fill-2" class="cls-4" d="M21.31,163.66H18.05v-3.73h3.26a1.87,1.87,0,0,1,0,3.73m4.27-1.86a3.92,3.92,0,0,0-4-3.85H16V172.1h2v-6.46h3.56a3.92,3.92,0,0,0,4-3.85h0" transform="translate(0)"/>
          <path id="Fill-4" class="cls-4" d="M29.2,170.21a.57.57,0,1,1,.57-.57.56.56,0,0,1-.57.57h0m-4.72,0a.57.57,0,1,1-.19-1.13h.19a.57.57,0,1,1,.18,1.13.28.28,0,0,1-.18,0m-.09-2.07c0-.1.24-.95.33-1.25a.7.7,0,0,1,.54-.38h3.13a.68.68,0,0,1,.55.38c.1.3.29,1.15.32,1.25a.11.11,0,0,1,0,.13H24.48a.1.1,0,0,1-.09-.1h0m6,.5a1,1,0,0,0-.24-.27l-.71-1.92a1,1,0,0,0-.78-.54H24.93a1,1,0,0,0-.77.54l-.73,1.92a1.55,1.55,0,0,0-.24.27,3.24,3.24,0,0,0-.13,1.07c0,.85.16,1.12.37,1.23l.16.09v.77c0,.24,0,.32.3.32h.53c.24,0,.4,0,.4-.25v-.75h4v.75c0,.25.15.25.39.25h.51c.23,0,.29,0,.29-.32v-.77l.17-.09c.19-.11.36-.39.36-1.23s0-1-.14-1.07" transform="translate(0)"/>
        </g>
        <path class="cls-5" d="M45,155.61h3.87v2.22h-1v-1.25H46v1.51c0,.18.1.29.33.29h2.22v.86H45.9c-.55,0-.82-.24-.82-.74v-1.84H43.33l.83.09a5.13,5.13,0,0,1-3.52,2.9l-.45-.85a4.29,4.29,0,0,0,3-2.14H41.08v1.17h-1v-2.14H44c-.12-.29-.26-.57-.41-.85l1.06-.16C44.75,154.92,44.84,155.25,45,155.61Zm3,4.19v.92H45v2.11h3.88v.92H40.12v-.92H44v-2.11H41v-.92Z" transform="translate(0)"/>
        <path class="cls-5" d="M55.11,154.71a15.09,15.09,0,0,0,4.4,2.73l-.51.88a16.23,16.23,0,0,1-1.51-.74v.72H55.32v1h3.62v.94H55.32v2.51a1,1,0,0,1-.88,1.13H52.93l-.21-.92H53.9a.48.48,0,0,0,.54-.42h0v-2.35H50.59v-.88h3.79v-1.08H52v-.74c-.48.28-1,.54-1.51.78l-.5-.9a14.57,14.57,0,0,0,4.53-2.74Zm-1.81,6.51a6.24,6.24,0,0,1-2.21,2.38l-.74-.62a5.23,5.23,0,0,0,2-2.13Zm3.84-3.84a12.36,12.36,0,0,1-2.38-1.83,12.71,12.71,0,0,1-2.37,1.83ZM59.26,163l-.82.57a19,19,0,0,0-2.14-2.43l.74-.47A21.24,21.24,0,0,1,59.26,163Z" transform="translate(0)"/>
        <path class="cls-5" d="M42.59,168.13l.55-1.3,1,.21-.47,1.09h5.08v.94H43.18a15.4,15.4,0,0,1-1.33,2.06h2.27v-1.37h1v1.37h3V172h-3v1.3h3.76v.93H45.1v2.1h-1v-2.1h-4v-.93h4V172H40.84l-.23-.88a9.49,9.49,0,0,0,1.51-2.06H40.31v-.94Z" transform="translate(0)"/><path class="cls-5" d="M53.2,167.24a10.89,10.89,0,0,1-1,2.2v6.86h-1v-5.44a14.26,14.26,0,0,1-.95,1.09l-.32-1a11.27,11.27,0,0,0,2.31-4Zm3,7.68a29.74,29.74,0,0,0,1.3-5l.94.24a34.11,34.11,0,0,1-1.24,4.77h2.17v.94H52.83v-.94Zm-.58-6.52c-.16-.48-.31-.93-.47-1.36l1-.16c.13.45.29,1,.42,1.51h2.58v.93H53v-.92Zm-.23,6-.89.24a36.64,36.64,0,0,0-1-4.38l.89-.28A39.35,39.35,0,0,1,55.41,174.44Z" transform="translate(0)"/>
      </g>
      <g id="公共停车场">
        <text class="cls-6" transform="translate(135.13 27.24)">公共停车场</text>
      </g>
      <rect id="矩形-3" class="cls-7" x="142.87" y="35.19" width="42" height="17"/>
      <g id="_218" data-name=" 218">
        <text class="cls-100" v-if="P1LeftPortShow==0"
              transform="translate(150.87 49.1)"  >{{P1LeftPort}}</text>
        <text class="cls-100" v-if="P1LeftPortShow==1"
              transform="translate(155.87 49.1)" >{{P1LeftPort}}</text>
        <text class="cls-8"  v-if="P1LeftPortShow==2"
              transform="translate(155.87 49.1)">{{P1LeftPort}}</text>
        <text class="cls-8" v-if="P1LeftPortShow==3"
              transform="translate(159.87 49.1)" >{{P1LeftPort}}</text>
      </g>
      <g id="编组-2">
      <path id="Fill-2-2" class="cls-4" d="M129.42,43.08H126.3V39.51h3.12a1.79,1.79,0,0,1,0,3.57m4.07-1.78a3.74,3.74,0,0,0-3.78-3.69h-5.34V51.16h1.95V45h3.41a3.72,3.72,0,0,0,3.78-3.68h0" transform="translate(0)"/>
        <path id="Fill-4-2" class="cls-4" d="M137,49.34a.55.55,0,0,1,0-1.09h0a.54.54,0,0,1,.55.54.55.55,0,0,1-.54.55h0m-4.52,0a.55.55,0,0,1,0-1.09h0a.55.55,0,1,1,0,1.09h0m-.07-2a11.92,11.92,0,0,1,.31-1.19.62.62,0,0,1,.52-.37h3a.62.62,0,0,1,.52.37c.09.28.28,1.09.31,1.19a.08.08,0,0,1,0,.11h-4.54a.08.08,0,0,1-.08-.07.08.08,0,0,1,0,0m5.83.47a1.07,1.07,0,0,0-.22-.25l-.69-1.83a1,1,0,0,0-.75-.52h-3.61a1,1,0,0,0-.75.52l-.69,1.83a1.55,1.55,0,0,0-.24.27c-.06.13-.13.23-.13,1s.17,1.07.35,1.17l.16.09v.72c0,.25.06.32.28.32h.51c.23,0,.38,0,.38-.25v-.71h3.89V51c0,.25.16.25.38.25h.52c.22,0,.28-.07.28-.32v-.78L138,50c.19-.1.35-.38.35-1.17s-.06-.91-.13-1" transform="translate(0)"/></g><g id="icon_arrow" data-name="icon arrow">
      <path id="Fill-1" class="cls-9" d="M77.36,108.65l-4-5.49v2.62H63.78a5.67,5.67,0,0,0-5.67,5.67v11.69h5.67V114a2.6,2.6,0,0,1,2.58-2.58h7v2.69Z" transform="translate(0)"/>
    </g>
      <text class="cls-10" transform="translate(51.47 134.47)">入口</text>
      <g id="员工停车场">
        <text class="cls-6" transform="translate(103.1 165.61)">员工停车场</text>
      </g>
      <rect id="矩形备份" class="cls-7" x="182.26" y="152.68" width="42.77" height="17"/>
      <text class="cls-100" v-if="P23LeftPortShow==0"
            transform="translate(189.66 166.3)">{{staffLeftPort}}</text>
      <text class="cls-100" v-if="P23LeftPortShow==1"
            transform="translate(195.66 166.3)">{{staffLeftPort}}</text>
      <text class="cls-8" v-if="P23LeftPortShow==2"
            transform="translate(195.66 166.3)">{{staffLeftPort}}</text>
      <text class="cls-8" v-if="P23LeftPortShow==3"
            transform="translate(198.8 166.3)">{{staffLeftPort}}</text>
      <g id="编组-4">
        <path id="Fill-2-4" class="cls-4" d="M168.73,159.29h-3.2v-3.67h3.2a1.84,1.84,0,0,1,0,3.67m4.2-1.83a3.84,3.84,0,0,0-3.89-3.79h-5.49v13.91h2v-6.36h3.51a3.83,3.83,0,0,0,3.89-3.79h0" transform="translate(0)"/>
        <path id="Fill-4-4" class="cls-4" d="M176.5,165.73a.56.56,0,1,1,0-1.12h0a.56.56,0,0,1,0,1.12m-4.65,0a.56.56,0,1,1,.56-.56h0a.56.56,0,0,1-.56.56m-.08-2c0-.11.23-.94.31-1.23a.7.7,0,0,1,.54-.38h3.08a.68.68,0,0,1,.54.38c.09.29.29,1.12.32,1.23a.08.08,0,0,1,0,.11h-4.67a.07.07,0,0,1-.08-.07v0m6,.48a1.13,1.13,0,0,0-.23-.26l-.71-1.88a1,1,0,0,0-.77-.54h-3.72a1,1,0,0,0-.76.54l-.71,1.88a2,2,0,0,0-.24.26c-.06.13-.13.24-.13,1.07s.17,1.1.36,1.2l.16.09v.75c0,.25.06.32.29.32h.53c.23,0,.39,0,.39-.25v-.73h4v.73c0,.25.16.25.39.25h.53c.23,0,.29-.07.29-.32v-.75l.15-.09c.2-.1.36-.39.37-1.2s-.07-.94-.14-1.07" transform="translate(0)"/>
      </g>
      <rect id="矩形备份-2" class="cls-7" x="257.85" y="99.7" width="42" height="17"/>
      <g id="_218备份" data-name=" 218备份">
        <text class="cls-100" v-if="P4LeftPortShow==0"
              transform="translate(270.66 113.8)">{{P4LeftPort}}</text>
        <text class="cls-8"v-if="P4LeftPortShow==1"
              transform="translate(269.66 113.8)">{{P4LeftPort}}</text>
        <text class="cls-8" v-if="P4LeftPortShow==2"
              transform="translate(273.66 113.8)">{{P4LeftPort}}</text>
      </g>
      <g id="新能源停车场">
        <text class="cls-6" transform="translate(238.28 92.21)">新能源停车场</text>
      </g>
      <g id="编组-3">
        <path id="Fill-2-3" class="cls-4" d="M245.11,107.71H242v-3.6h3.15a1.89,1.89,0,0,1,1.75,1.78,2,2,0,0,1-1.75,1.82m4.1-1.8a3.76,3.76,0,0,0-3.81-3.71H240v13.63h2V109.6h3.44a3.77,3.77,0,0,0,3.81-3.72h0" transform="translate(0)"/>
        <path id="Fill-4-3" class="cls-4" d="M252.71,114a.55.55,0,1,1,.55-.54h0a.55.55,0,0,1-.55.54m-4.56,0a.55.55,0,1,1,.55-.54.55.55,0,0,1-.55.54m-.07-2c0-.11.22-.93.3-1.21a.65.65,0,0,1,.54-.37h2.94a.6.6,0,0,1,.53.37c.08.28.28,1.1.31,1.21a.07.07,0,0,1,0,.1h-4.57a.07.07,0,0,1-.09-.07,0,0,0,0,1,0,0m5.88.47a1,1,0,0,0-.23-.26l-.7-1.84a1,1,0,0,0-.75-.53h-3.63a1,1,0,0,0-.76.53l-.69,1.84a1.48,1.48,0,0,0-.24.26c-.06.12-.13.23-.13,1s.17,1.08.36,1.18l.15.09v.73c0,.24.06.32.29.32h.52c.22,0,.38,0,.38-.25v-.71h3.87v.71c0,.25.15.25.38.25h.52c.22,0,.28-.08.28-.32v-.73l.15-.09c.2-.1.36-.38.36-1.18s-.07-.92-.13-1" transform="translate(0)"/>
      </g>
      <polygon id="矩形-2" class="cls-9" points="289.63 40.01 300.21 64.25 289.61 55.93 280.67 64.25 289.63 40.01"/><g id="西"><text class="cls-12" transform="translate(281.76 33.61)">西</text>
    </g>
    </svg>
  </div>
</template>
<script>
    export default {
        components: {},
        data() {
            return {
                timer:null,
                P1LeftPort:0,//158
                P2LeftPort: 0,//110
                P4LeftPort:0,//28
                //公共停车场158 100-158为0 80-99为1(绿)  10-79为2  0-9为3(红)
                P1LeftPortShow:3,
                //员工停车场110 100-110为0 56-99为1(绿) 10-55为2  0-9为3(红)
                P2LeftPortShow:3,
                //新能源停车场28 15-28为0(绿) 10-14为1 0-9为2(红)
                P4LeftPortShow:2,
                //员工停车场=员工+临时 = 157  100-157为0(绿) 79-99为1(绿) 10-78为2(红) 0-9为3(红)
                // staffLeftPort:0,
                P23LeftPortShow:3,
                P3LeftPort: 0,//47
                P5LeftPort: 0,//14
                //专用停车场14 10-14为0 8-9为1 (绿) 0-7为2(红)
                P5LeftPortShow:0,
                socailParkName:"公共停车场",
                socailPark:500,
                socailParkLeft:218,
                staffParkName:"员工停车场",
                staffPark:100,
                staffParkLeft:18,
            };
        },
        computed: {
            //顶部员工停车场剩余车位数
            staffLeftPort: function() {
                return (
                    this.P2LeftPort + this.P3LeftPort
                );
            },
        },
        created() {
            // 实现轮询
            this.timer = setInterval(() => {
                setTimeout(this.getNewMessage(), 0);
            }, 5000);
        },
        mounted() {
            this.queryParkSpace();
        },
        destroyed() {
            if (this.timer) {
                clearTimeout(this.timer);
                this.timer = null;
            }
        },
        methods: {
            //  定时任务
            getNewMessage() {
                //查询正在进行中的订单
                this.queryParkSpace();
            },

            queryParkSpace() {
                // 公共停车场剩余车位数
                const param1 = "BM01";
                this.$homePage.queryEmptySpace(param1).then(res => {
                    this.P1LeftPort = res.resultEntity;
                    //公共停车场中间顶部数据
                    this.publicLeftPort = res.resultEntity;
                    if (this.P1LeftPort>=100&&this.P1LeftPort<=158)        {
                        this.P1LeftPortShow=0
                    }
                    else if(this.P1LeftPort>=80&&this.P1LeftPort<=99){
                        this.P1LeftPortShow=1
                    }
                    else if(this.P1LeftPort>=10&&this.P1LeftPort<=79){
                        this.P1LeftPortShow=2
                    }
                    else if(this.P1LeftPort>=0&&this.P1LeftPort<=9){
                        this.P1LeftPortShow=3
                    }
                });
                //  员工停车场剩余车位数
                const param2 = "BMK01";
                this.$homePage.queryEmptySpace(param2).then(res => {
                    this.P2LeftPort = res.resultEntity;
                    if (this.P2LeftPort>=100&&this.P2LeftPort<=110)        {
                        this.P2LeftPortShow=0
                    }
                    else if(this.P2LeftPort>=56&&this.P2LeftPort<=99){
                        this.P2LeftPortShow=1
                    }
                    else if(this.P2LeftPort>=10&&this.P2LeftPort<=55){
                        this.P2LeftPortShow=2
                    }
                    else if(this.P2LeftPort>=0&&this.P2LeftPort<=9){
                        this.P2LeftPortShow=3
                    }
                });
                //新能源停车场剩余车位数
                const param4 = "JQ01";
                this.$homePage.queryEmptySpace(param4).then(res => {
                    this.P4LeftPort = res.resultEntity;
                    if (this.P4LeftPort>=15&&this.P4LeftPort<=28)        {
                        this.P4LeftPortShow=0
                    }
                    else if(this.P4LeftPort>=10&&this.P4LeftPort<=14){
                        this.P4LeftPortShow=1
                    }
                    else if(this.P4LeftPort>=0&&this.P4LeftPort<=9){
                        this.P4LeftPortShow=2
                    }
                });
                //临时停车场剩余车位数
                const param3 = "HZH01";
                this.$homePage.queryEmptySpace(param3).then(res => {
                    this.P3LeftPort = res.resultEntity;
                });
                //专用停车场剩余车位数
                const param5 = "SJDA01";
                this.$homePage.queryEmptySpace(param5).then(res => {
                    this.P5LeftPort = res.resultEntity;
                    if (this.P5LeftPort>=10&&this.P5LeftPort<=14)        {
                        this.P5LeftPortShow=0
                    }
                    else if(this.P5LeftPort>=8&&this.P5LeftPort<=9){
                        this.P5LeftPortShow=1
                    }
                    else if(this.P5LeftPort>=0&&this.P5LeftPort<=7){
                        this.P5LeftPortShow=2
                    }
                });
                //员工加临时
                if (this.staffLeftPort>=100&&this.staffLeftPort<=157)        {
                    this.P23LeftPortShow=0
                }
                else if(this.staffLeftPort>=79&&this.staffLeftPort<=99){
                    this.P23LeftPortShow=1
                }
                else if(this.staffLeftPort>=10&&this.staffLeftPort<=78){
                    this.P23LeftPortShow=2
                }
                else if(this.staffLeftPort>=0&&this.staffLeftPort<=9){
                    this.P23LeftPortShow=3
                }
            },
        },
    }
</script>
<style  scoped>
  .body{
    width: 320px;
    height: 192px;
  }
.cls-1,.cls-2{
  fill:#00fffd
}
  .cls-10,.cls-12,.cls-2,.cls-6,.cls-8, .cls-100{
    isolation:isolate
  }
  .cls-2,.cls-8, .cls-100{
    font-size:15px
  }
  .cls-2{
    font-family:PingFangSC-Medium-GBpc-EUC-H, PingFang SC;
    letter-spacing:0.01em
  }
  .cls-3{
    fill:#00a8ff;
    stroke:#fff;
    stroke-width:0.75px
  }
  .cls-10,.cls-12,.cls-4,.cls-5,.cls-6{
    fill:#fff
  }
  .cls-4,.cls-9{
    fill-rule:evenodd
  }
  .cls-6{
    font-size:11px;
    letter-spacing:0.01em;
  }
  .cls-10,.cls-6{
    font-family:PingFangHK-Medium-B5pc-H, PingFang HK;
  }
  .cls-7{
    fill:none;
    stroke:#00ff97;
  }
  .cls-11,.cls-8{
    fill:#f40606;
  }
  .cls-100{
    fill:#04F60F;
  }
  .cls-8{
      font-family:Helvetica-Bold, Helvetica;
      font-weight:700;
      letter-spacing:0.01em;
    }
  .cls-100{
    font-family:Helvetica-Bold, Helvetica;
    font-weight:700;
    letter-spacing:0.01em;
  }
  .cls-9{
    fill:#f9e100;
  }
  .cls-10{
    font-size:10px;
  }
  .cls-10,.cls-12{
    letter-spacing:0.01em;
  }
  .cls-12{
    font-size:18px;
    font-family:PingFangSC-Regular-GBpc-EUC-H, PingFang SC;
  }
</style>
