/**
* @author admin
* @since 2021-03-29
* @data 2021-03-29
*/
<template>
  <div class="mainBody">
    <div class="backBody">
      <div class="backBody-line1">
        <div class="line1-left">
           <svg width="72px" height="72px" viewBox="0 0 72 72" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
             <title>icon/park</title>
             <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
               <g id="智能停车" transform="translate(-12.000000, -15.000000)">
                 <g id="icon/park" transform="translate(12.000000, 15.000000)">
                   <polygon id="Fill-1" fill="#3530C8" points="0 72 72 72 72 0 0 0"></polygon>
                   <g id="编组" transform="translate(3.428571, 4.285714)" fill="#FFFFFF">
                     <path d="M23.9319264,25.8452993 L9.2015967,25.8452993 L9.2015967,9.01177973 L23.932289,9.01177973 C28.2382451,9.21181963 32.1855527,13.1113408 32.1855527,17.3585076 C32.1855527,21.6056744 28.2378824,25.6434637 23.9319264,25.8452993 M43.1952231,17.4569114 C43.1952231,7.83452514 35.1958055,0.034764565 25.3273549,0.034764565 C24.8780473,0.034764565 24.4370802,0.0681644054 23.9957505,0.100127694 L8.21195934,0.100127694 L8.21195934,0.133168396 L0.136387912,0.133168396 L0.136387912,63.9997686 L9.2015967,63.9997686 L9.2015967,34.8233919 L23.932289,34.8233919 C24.6238385,34.9020431 24.6154978,34.8794174 25.3277176,34.8794174 C35.1961681,34.8790583 43.1952231,27.080016 43.1952231,17.4569114" id="Fill-2"></path>
                     <path d="M59.5784176,55.4061692 C58.1467253,55.4061692 56.9801209,54.2490263 56.9801209,52.8343815 C56.9801209,51.4165044 58.1467253,50.2625938 59.5784176,50.2625938 C61.0086593,50.2625938 62.1741758,51.4165044 62.1741758,52.8343815 C62.1741758,54.2493855 61.0086593,55.4061692 59.5784176,55.4061692 M38.2234286,55.4061692 C36.7902857,55.4061692 35.6251319,54.2490263 35.6251319,52.8343815 C35.6251319,51.4165044 36.7902857,50.2625938 38.2234286,50.2625938 C39.654033,50.2625938 40.8188245,51.4165044 40.8188245,52.8343815 C40.8195495,54.2493855 39.6543956,55.4061692 38.2234286,55.4061692 M37.8738462,46.049186 C38.0087473,45.5614765 38.9120769,41.7395291 39.3120659,40.4153871 C39.4767033,39.9578452 40.5461209,38.5952753 41.7935934,38.6728492 L55.9281099,38.6728492 C57.1748571,38.5949162 58.2453626,39.957486 58.4070989,40.4153871 C58.8089011,41.7395291 59.7107802,45.5614765 59.8474945,46.049186 C60.0085055,46.6284757 59.4772418,46.5778372 59.4772418,46.5778372 L38.2444615,46.5778372 C38.2444615,46.5774781 37.7117473,46.6284757 37.8738462,46.049186 M65.2526044,48.275842 C64.9661209,47.7080447 64.1773846,47.0615962 64.1773846,47.0615962 L60.9263407,38.4422825 C60.2514725,36.8085634 58.2645824,35.9466321 57.3978791,35.9466321 L40.3234615,35.9466321 C39.456033,35.9466321 37.4705934,36.8085634 36.7953626,38.4422825 L33.5435934,47.0615962 C33.5435934,47.0615962 32.7566703,47.7080447 32.4676484,48.275842 C32.178989,48.8411253 31.8645824,49.3471508 31.8645824,53.1680208 C31.8645824,56.8958739 32.6195934,58.220016 33.5218352,58.6797127 L34.2355055,59.0794334 L34.2355055,62.5400878 C34.2355055,63.661676 34.5042198,63.9956746 35.5808901,63.9956746 L37.9953297,63.9956746 C39.0705495,63.9956746 39.7954615,63.999984 39.7954615,62.8783958 L39.7954615,59.5121947 L57.9258791,59.5121947 L57.9258791,62.8783958 C57.9258791,63.999984 58.6497033,63.9956746 59.7249231,63.9956746 L62.1400879,63.9956746 C63.216033,63.9956746 63.4847473,63.661676 63.4847473,62.5400878 L63.4847473,59.0794334 L64.1984176,58.6797127 C65.1013846,58.2203751 65.8556703,56.8965922 65.8571212,53.1680208 C65.8574835,49.3471508 65.5427143,48.8411253 65.2526044,48.275842" id="Fill-4"></path>
                   </g>
                 </g>
               </g>
             </g>
           </svg>
        </div>
        <div class="line1-right">
          <div class="line1-right-left">
            <div class="left-top">
             <svg width="38px" height="39px" viewBox="0 0 38 39" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <title>icon/arrow</title>
      <defs>
        <polygon id="path-1" points="0 0.000345454545 37.5279709 0.000345454545 37.5279709 38.9662364 0 38.9662364"></polygon>
      </defs>
      <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="智能停车" transform="translate(-111.000000, -17.000000)">
          <g id="编组" transform="translate(93.000000, 10.000000)">
            <g id="icon/arrow" transform="translate(18.000000, 7.000000)">
              <mask id="mask-2" fill="white">
                <use xlink:href="#path-1"></use>
              </mask>
              <g id="Clip-2"></g>
              <path d="M37.5279709,10.7090218 L29.7096436,-6.90909091e-05 L29.7096436,5.11127636 L11.0544073,5.11127636 C4.94953455,5.11127636 -0.000138181818,10.0609491 -0.000138181818,16.1658218 L-0.000138181818,38.9665127 L11.0544073,38.9665127 L11.0544073,21.2018582 C11.0544073,18.4209491 13.3088436,16.1658218 16.0904436,16.1658218 L29.7096436,16.1658218 L29.7096436,21.4181127 L37.5279709,10.7090218 Z" id="Fill-1" fill="#FFFFFF" mask="url(#mask-2)"></path>
            </g>
          </g>
        </g>
      </g>
    </svg>
            </div>
            <div class="left-bottom">
              <span>{{socailPark}}</span>
              <span>m</span>
            </div>
          </div>
          <div class="line1-right-right">
            <div class="parkName">{{socailParkName}}</div>
            <div class="right-right">
                <div class="right-right-left">
                  <span>余位</span>
                </div>
              <div class="right-right-right">
                <div class="right-right-right-text">{{P1LeftPort}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="backBody-line2">
        <div class="line1-left">
          <div class="line2-left-top">
            停车
          </div>
          <div class="line2-left-bottom">
            收费
          </div>
        </div>
        <div class="line1-right">
          <div class="line1-right-left">
            <div class="left-top">
              <svg width="38px" height="39px" viewBox="0 0 38 39" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <title>icon/arrow</title>
                <defs>
                  <polygon id="path-1" points="0 0.000345454545 37.5279709 0.000345454545 37.5279709 38.9662364 0 38.9662364"></polygon>
                </defs>
                <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  <g id="智能停车" transform="translate(-111.000000, -17.000000)">
                    <g id="编组" transform="translate(93.000000, 10.000000)">
                      <g id="icon/arrow" transform="translate(18.000000, 7.000000)">
                        <mask id="mask-2" fill="white">
                          <use xlink:href="#path-1"></use>
                        </mask>
                        <g id="Clip-2"></g>
                        <path d="M37.5279709,10.7090218 L29.7096436,-6.90909091e-05 L29.7096436,5.11127636 L11.0544073,5.11127636 C4.94953455,5.11127636 -0.000138181818,10.0609491 -0.000138181818,16.1658218 L-0.000138181818,38.9665127 L11.0544073,38.9665127 L11.0544073,21.2018582 C11.0544073,18.4209491 13.3088436,16.1658218 16.0904436,16.1658218 L29.7096436,16.1658218 L29.7096436,21.4181127 L37.5279709,10.7090218 Z" id="Fill-1" fill="#FFFFFF" mask="url(#mask-2)"></path>
                      </g>
                    </g>
                  </g>
                </g>
              </svg>
            </div>
            <div class="left-bottom">
              <span>{{staffPark}}</span>
              <span>m</span>
            </div>
          </div>
          <div class="line1-right-right">
            <div class="parkName">{{staffParkName}}</div>
            <div class="right-right">
              <div class="right-right-left">
                <span>余位</span>
              </div>
              <div class="right-right-right">
                <div class="right-right-right-stafftext">{{staffLeftPort}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
<script>

    export default {
        name: "induce",
        components: {},
        data() {
            return {
                socailParkName:"社会停车场",
                socailPark:500,
                socailParkLeft:218,
                staffParkName:"员工停车场",
                staffPark:100,
                staffParkLeft:18,
                P1LeftPort: 0,
                P2LeftPort: 0,
                P3LeftPort: 0,
                P4LeftPort: 0,
                P5LeftPort: 0,
                timer:null
            };
        },
        computed: {
            //顶部员工停车场剩余车位数
            staffLeftPort: function() {
                return (
                    this.P2LeftPort + this.P3LeftPort + this.P4LeftPort + this.P5LeftPort
                );
            },
        },
        created() {
            // 实现轮询
            this.timer = setInterval(() => {
                setTimeout(this.getNewMessage(), 0);
            }, 5000);
            },
           mounted() {
              this.queryParkSpace();
            },
            destroyed() {
                if (this.timer) {
                    clearTimeout(this.timer);
                    this.timer = null;
                }
            },
            methods: {
                //  定时任务
                getNewMessage() {
                    //查询正在进行中的订单
                    this.queryParkSpace();
                },

                queryParkSpace() {
                // 公共停车场剩余车位数
                const param1 = "BM01";
                this.$homePage.queryEmptySpace(param1).then(res => {
                    this.P1LeftPort = res.resultEntity;
                    //公共停车场中间顶部数据
                    this.publicLeftPort = res.resultEntity;
                });
                //  员工停车场剩余车位数
                const param2 = "BMK01";
                this.$homePage.queryEmptySpace(param2).then(res => {
                    this.P2LeftPort = res.resultEntity;
                });
                //临时停车场剩余车位数
                const param3 = "HZH01";
                this.$homePage.queryEmptySpace(param3).then(res => {
                    this.P3LeftPort = res.resultEntity;
                });
                //新能源停车场剩余车位数
                const param4 = "JQ01";
                this.$homePage.queryEmptySpace(param4).then(res => {
                    this.P4LeftPort = res.resultEntity;
                });
                //专用停车场剩余车位数
                const param5 = "SJDA01";
                this.$homePage.queryEmptySpace(param5).then(res => {
                    this.P5LeftPort = res.resultEntity;
                });
            },
            },
      }
</script>
<style scoped>
.mainBody{
  width: 100%;
  height: 100%;
  background-color: #f5f6f7;
}
  .backBody{
    width: 320px;
    height: 192px;
    background-color:#3530C8;
    position: relative;
    margin-left: 800px;
    margin-top:444px ;
  }
  .backBody-line1{
    height: 82px;
    width: 320px;
    padding-top: 10px;
    display: flex;
  }
  .line1-left{
    width: 72px;
    height: 72px;
    margin-left: 12px;
  }
  .line1-right{
    width: 217px;
    height: 82px;
    border: 1px solid #FDFA2C;
    margin-left: 9px;
    display: flex;
  }
  .left-top{
    width: 38px;
    height: 39px;
    margin-left: 18px;
    padding-top: 7px;
  }
  .left-bottom{
    width: 55px;
    height: 28px;
    margin-left: 17px;
    margin-top:2px;
    color: white;
    font-size: 20px;
  }
  .parkName{
    width: 100px;
    height: 28px;
    padding-top: 7px;
    margin-left: 10px;
    font-family: PingFangSC-Semibold;
    font-size: 20px;
    color: #FFFFFF;
    letter-spacing: 0;
  }
  .right-right{
    display: flex;
  }
  .right-right-left{
    font-family: PingFangSC-Semibold;
    font-size: 28px;
    color: #FFFFFF;
    letter-spacing: 0.29px;
    height: 40px;
    width: 57px;
    margin-left: 10px;
  }
  .right-right-right{
   border: 2px solid #FAF82C ;
    background-color: #010302;
   width: 62px;
    height: 38px;
    margin-top: 2px;
    margin-left: 5px;
  }
  .right-right-right-text{
    font-family: PingFangSC-Semibold;
    font-size: 32px;
    color: #04F60F;
    letter-spacing: 0.34px;
    margin-top: -3px;
    padding-left: 2px;
  }
  .backBody-line2{
    height: 82px;
    width: 320px;
    padding-top: 10px;
    display: flex;
  }
.right-right-right-stafftext{
  font-family: PingFangSC-Semibold;
  font-size: 32px;
  color:#FF0000;
  letter-spacing: 0.34px;
  margin-top: -3px;
  padding-left: 2px;
}
  .line2-left-top{
width: 68px;
    height: 31px;
    padding-top: 1px;
    font-family: PingFangSC-Semibold;
    font-size: 28px;
    color: #F6F330;
    letter-spacing: 2px;
    line-height: 34px;
  }
  .line2-left-bottom{
    width: 68px;
    height: 31px;
    padding-top: 4px;
    font-family: PingFangSC-Semibold;
    font-size: 28px;
    color: #F6F330;
    letter-spacing: 2px;
    line-height: 34px;
  }
</style>
